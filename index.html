<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Trenzas Laura Urbina</title>
    <head>
    <link rel="apple-touch-icon" href="Gemini_Generated_Image_h92t8ah92t8ah92t.png">
    
    <link rel="icon" type="image/png" href="Gemini_Generated_Image_h92t8ah92t8ah92t.png">
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
</head>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="splash">
        <img src="Gemini_Generated_Image_h92t8ah92t8ah92t.png" alt="Logo Laura">
        <h2>Trenzas Laura Urbina</h2>
    </div>

    <header>
        <h1>Laura Urbina</h1>
        <nav>
            <button onclick="showSection('form')">Nueva</button>
            <button onclick="showSection('list')">Agenda</button>
            <button onclick="showSection('calendario')">Calendario</button>
            <button onclick="showSection('resumen')">Corte</button>
        </nav>
    </header>

    <main>
        <section id="sec-form">
            <div class="card">
                <h2>Registrar Cita</h2>
                <form id="appointment-form">
                    <input type="text" id="clientName" placeholder="Nombre de la clienta" required>
                    <select id="serviceType" onchange="updatePaymentInfo()">
                        <option value="trenzas">Trenzas / Aplicaci√≥n ($250)</option>
                        <option value="retiro">Retiro ($175)</option>
                        <option value="peinado">Peinado (Variable)</option>
                    </select>
                    
                    <div id="manual-payment-div" class="hidden">
                        <input type="number" id="manualPay" placeholder="Pago para Emma/Say $" oninput="updatePaymentInfo()">
                    </div>

                    <div class="checkbox-group">
                        <label><input type="checkbox" id="emma" checked onchange="updatePaymentInfo()"> Emma</label>
                        <label><input type="checkbox" id="say" checked onchange="updatePaymentInfo()"> Say</label>
                    </div>

                    <input type="datetime-local" id="appointmentDate" required>
                    <input type="number" id="totalCost" placeholder="Costo Total del Servicio $" required>
                    
                    <select id="status">
                        <option value="pendiente">Pendiente (Apartado)</option>
                        <option value="atendida">Atendida (Servicio Completo)</option>
                    </select>

                    <div id="payment-preview">
                        <p>Pago Emma: <span id="pay-emma">$250</span></p>
                        <p>Pago Say: <span id="pay-say">$250</span></p>
                    </div>

                    <button type="submit" class="btn-save">Guardar Cita</button>
                </form>
            </div>
        </section>

        <section id="sec-list" class="hidden">
            <div class="card">
                <h2>Agenda de Citas</h2>
                <div id="appointments-container"></div>
            </div>
        </section>

        <section id="sec-calendario" class="hidden">
            <div class="card">
                <div id="calendar"></div>
            </div>
        </section>

        <section id="sec-resumen" class="hidden">
            <div class="tabs-corte">
                <button class="btn-tab" onclick="calculateCorte('dia')">Hoy</button>
                <button class="btn-tab" onclick="calculateCorte('mes')">Mes</button>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="corte-titulo">Ventas Realizadas</h3>
                    <p id="total-ventas" class="monto">$0</p>
                </div>
                <div class="stat-card" style="border-bottom-color: orange;">
                    <h3>Por Cobrar (Pendientes)</h3>
                    <p id="total-pendiente" class="monto" style="color: orange;">$0</p>
                </div>
                <div class="stat-card"><h3>Total Emma</h3><p id="total-emma" class="monto">$0</p></div>
                <div class="stat-card"><h3>Total Say</h3><p id="total-say" class="monto">$0</p></div>
            </div>
            
            <button class="btn-finalizar" onclick="exportarReporte()">Copiar Reporte para WhatsApp</button>
        </section>
    </main>

    <script type="module" src="app.js"></script>
</body>
</html>
